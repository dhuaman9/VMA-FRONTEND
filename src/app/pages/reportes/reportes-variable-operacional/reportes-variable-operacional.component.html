<router-outlet></router-outlet>
<div [hidden]="route.children.length!==0">
    <div class="content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 mt-2">
                    <div class="card pdn-15">
                        
                        <div class="card-header border-0">
                            
                            <form class="form-inline" [formGroup]="form">
                                <div class="form-group" [style]="'align-self: flex-start'">
                                    <app-forms-select2
                                        [forLabel]="'variable'"
                                        [classForLabel]="'mr-4'"
                                        [label]="'Variable'"
                                        [id]="'variable'"
                                        [placeholder]="'Seleccione'"
                                        [options]="optionsVariable"
                                        [inputSelectedOption]="inputSelectedOptionVariable"
                                        [classForNgSelect] = "'ng-select-frm-in-repo-04'"
                                        (changeOptions)="changeVariableFromSelect($event)"
                                        [messageError]="messageErrorVariable"
                                        [typeError]="'letter-danger'"
                                    ></app-forms-select2>
                                </div>
                                <div class="form-group ml-5" [style]="'align-self: flex-start'">
                                    <app-forms-select2
                                        [forLabel]="'anio'"
                                        [classForLabel]="'mr-4'"
                                        [label]="'Año'"
                                        [id]="'anio'"
                                        [options]="optionsAnio"
                                        [inputSelectedOption]="inputSelectedOptionAnio"
                                        [classForNgSelect] = "'ng-select-frm-in-repo-02'"
                                        (changeOptions)="changeAnioFromSelect($event)"
                                        [messageError]="messageErrorAnio"
                                        [typeError]="'letter-danger'"
                                    ></app-forms-select2>
                                </div>
                                <div class="form-group ml-5 mr-5" [style]="'align-self: flex-start'">
                                    <app-forms-select2
                                        [forLabel]="'nivel'"
                                        [classForLabel]="'mr-4'"
                                        [label]="'Nivel'"
                                        [id]="'nivel'"
                                        [options]="optionsNivel"
                                        [inputSelectedOption]="inputSelectedOptionNivel"
                                        [classForNgSelect] = "'ng-select-frm-in-repo-05'"
                                        (changeOptions)="changeNivelFromSelect($event)"
                                        [messageError]="messageErrorNivel"
                                        [typeError]="'letter-danger'"
                                    ></app-forms-select2>
                                </div>
                                <div class="form-group ml-2" [style]="'align-self: flex-start'">
                                    <button class="btn btn-md btn-primary" (click)="obtenerReporte()">Buscar</button>
                                </div>
                                <div class="form-group ml-2" [style]="'align-self: flex-start'">
                                    <button class="btn btn-md btn-default btn-export-excel" (click)="exportReporte()">Descargar Excel <i class="fas fa-file-excel" style="padding-left: 2px; color: #6a9b21;"></i></button>
                                </div>
                            </form>

                        </div>
                    </div>
                    
                    <div class="card pdn-15" *ngIf="showResultadosReporte">
                        <ng-container *ngIf="nivelCode=='Localidad'">
                            <div class="tab-content content-detalle content-detalle-custom-01">
                                <div style="padding-left: 2px; padding-right:2px">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div style="padding-left: 2px; padding-right:2px">
                                                <div class="col-md-12">
                                                    <span class="fec-procesa">{{messageFecProcesa}}</span>
                                                    <ng-container *ngIf="variableCode=='Presion'">
                                                        <table class="table table-striped table-bordered" id="table-localidad-presion" style="width:100%">
                                                            <thead>
                                                                <tr>
                                                                    <th>Código EP</th>
                                                                    <th>Empresa Prestadora</th>
                                                                    <th>Código Loc</th>
                                                                    <th>Localidad</th>
                                                                    <th>Estado</th>
                                                                    <th>Enero</th>
                                                                    <th>Febrero</th>
                                                                    <th>Marzo</th>
                                                                    <th>Abril</th>
                                                                    <th>Mayo</th>
                                                                    <th>Junio</th>
                                                                    <th>Julio</th>
                                                                    <th>Agosto</th>
                                                                    <th>Setiembre</th>
                                                                    <th>Octubre</th>
                                                                    <th>Noviembre</th>
                                                                    <th>Diciembre</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr *ngFor="let item of resultadosReporteLocalidadPresion; index as i;">
                                                                    <td>{{item.codEp}}</td>
                                                                    <td>{{item.nomEp}}</td>
                                                                    <td>{{item.codLoc}}</td>
                                                                    <td>{{item.nomLoc}}</td>
                                                                    <td><button class="btn btn-default btn-estado-in-table {{item.desEstLoc=='Activada' ? 'btn-estado-activado-in-table' : ''}}">{{item.desEstLoc}}</button></td>
                                                                    <td>{{item.presEne}}</td>
                                                                    <td>{{item.presFeb}}</td>
                                                                    <td>{{item.presMar}}</td>
                                                                    <td>{{item.presAbr}}</td>
                                                                    <td>{{item.presMay}}</td>
                                                                    <td>{{item.presJun}}</td>
                                                                    <td>{{item.presJul}}</td>
                                                                    <td>{{item.presAgo}}</td>
                                                                    <td>{{item.presSet}}</td>
                                                                    <td>{{item.presOct}}</td>
                                                                    <td>{{item.presNov}}</td>
                                                                    <td>{{item.presDic}}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </ng-container>
                                                    <ng-container *ngIf="variableCode=='Continuidad'">
                                                        <table class="table table-striped table-bordered" id="table-localidad-continuidad" style="width:100%">
                                                            <thead>
                                                                <tr>
                                                                    <th>Código EP</th>
                                                                    <th>Empresa Prestadora</th>
                                                                    <th>Código Loc</th>
                                                                    <th>Localidad</th>
                                                                    <th>Estado</th>
                                                                    <th>Enero</th>
                                                                    <th>Febrero</th>
                                                                    <th>Marzo</th>
                                                                    <th>Abril</th>
                                                                    <th>Mayo</th>
                                                                    <th>Junio</th>
                                                                    <th>Julio</th>
                                                                    <th>Agosto</th>
                                                                    <th>Setiembre</th>
                                                                    <th>Octubre</th>
                                                                    <th>Noviembre</th>
                                                                    <th>Diciembre</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr *ngFor="let item of resultadosReporteLocalidadContinuidad; index as i;">
                                                                    <td>{{item.codEp}}</td>
                                                                    <td>{{item.nomEp}}</td>
                                                                    <td>{{item.codLoc}}</td>
                                                                    <td>{{item.nomLoc}}</td>
                                                                    <td><button class="btn btn-default btn-estado-in-table {{item.desEstLoc=='Activada' ? 'btn-estado-activado-in-table' : ''}}">{{item.desEstLoc}}</button></td>
                                                                    <td>{{item.contEne}}</td>
                                                                    <td>{{item.contFeb}}</td>
                                                                    <td>{{item.contMar}}</td>
                                                                    <td>{{item.contAbr}}</td>
                                                                    <td>{{item.contMay}}</td>
                                                                    <td>{{item.contJun}}</td>
                                                                    <td>{{item.contJul}}</td>
                                                                    <td>{{item.contAgo}}</td>
                                                                    <td>{{item.contSet}}</td>
                                                                    <td>{{item.contOct}}</td>
                                                                    <td>{{item.contNov}}</td>
                                                                    <td>{{item.contDic}}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </ng-container>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    
                        <ng-container *ngIf="nivelCode=='Sector'">
                            <span class="fec-procesa">{{messageFecProcesa}}</span>
                            <ul class="nav nav-tabs tab-detalle" role="tablist">
                                <li role="presentation"><a href="#variables" aria-controls="variables" role="tab" data-toggle="tab" class="active" id="tab-variables">VARIABLE</a></li>
                                <li role="presentation"><a href="#conexiones" aria-controls="conexiones" role="tab" data-toggle="tab" id="tab-conexiones" >CONEXIONES POR SECTOR</a></li>
                            </ul>
                            <div class="tab-content content-detalle content-detalle-custom-02">
                                <div role="tabpanel" class="tab-pane in active" id="variables">
                                    <div style="padding-left: 2px; padding-right:2px">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div style="padding-left: 2px; padding-right:2px">
                                                    <div class="col-md-12">
                                                        
                                                        <ng-container *ngIf="variableCode=='Presion'">
                                                            <table class="table table-striped table-bordered" id="table-sector-variables" style="width:100%">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Cod EP</th>
                                                                        <th>Empresa Prestadora</th>
                                                                        <th>Cod Localidad</th>
                                                                        <th>Localidad</th>
                                                                        <th>Estado Loc</th>
                                                                        <th>Cod Sector</th>
                                                                        <th>Sector</th>
                                                                        <th>Estado Sector</th>
                                                                        <th>Enero</th>
                                                                        <th>Febrero</th>
                                                                        <th>Marzo</th>
                                                                        <th>Abril</th>
                                                                        <th>Mayo</th>
                                                                        <th>Junio</th>
                                                                        <th>Julio</th>
                                                                        <th>Agosto</th>
                                                                        <th>Setiembre</th>
                                                                        <th>Octubre</th>
                                                                        <th>Noviembre</th>
                                                                        <th>Diciembre</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr *ngFor="let item of resultadosReporteSectorPresion; index as i;">
                                                                        <td>{{item.codEp}}</td>
                                                                        <td>{{item.nomEp}}</td>
                                                                        <td>{{item.codLoc}}</td>
                                                                        <td>{{item.nomLoc}}</td>
                                                                        <td><button class="btn btn-default btn-estado-in-table {{item.desEstLoc=='Activada' ? 'btn-estado-activado-in-table' : ''}}">{{item.desEstLoc}}</button></td>
                                                                        <td>{{item.codSec}}</td>
                                                                        <td>{{item.nomSec}}</td>
                                                                        <td><button class="btn btn-default btn-estado-in-table {{item.desEstSec=='Activado' ? 'btn-estado-activado-in-table' : ''}}">{{item.desEstSec}}</button></td>
                                                                        <td>{{item.presEne}}</td>
                                                                        <td>{{item.presFeb}}</td>
                                                                        <td>{{item.presMar}}</td>
                                                                        <td>{{item.presAbr}}</td>
                                                                        <td>{{item.presMay}}</td>
                                                                        <td>{{item.presJun}}</td>
                                                                        <td>{{item.presJul}}</td>
                                                                        <td>{{item.presAgo}}</td>
                                                                        <td>{{item.presSet}}</td>
                                                                        <td>{{item.presOct}}</td>
                                                                        <td>{{item.presNov}}</td>
                                                                        <td>{{item.presDic}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </ng-container>
                                                        <ng-container *ngIf="variableCode=='Continuidad'">
                                                            <table class="table table-striped table-bordered" id="table-sector-variables" style="width:100%">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Cod EP</th>
                                                                        <th>Empresa Prestadora</th>
                                                                        <th>Cod Localidad</th>
                                                                        <th>Localidad</th>
                                                                        <th>Estado Loc</th>
                                                                        <th>Cod Sector</th>
                                                                        <th>Sector</th>
                                                                        <th>Estado Sector</th>
                                                                        <th>Enero</th>
                                                                        <th>Febrero</th>
                                                                        <th>Marzo</th>
                                                                        <th>Abril</th>
                                                                        <th>Mayo</th>
                                                                        <th>Junio</th>
                                                                        <th>Julio</th>
                                                                        <th>Agosto</th>
                                                                        <th>Setiembre</th>
                                                                        <th>Octubre</th>
                                                                        <th>Noviembre</th>
                                                                        <th>Diciembre</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr *ngFor="let item of resultadosReporteSectorContinuidad; index as i;">
                                                                        <td>{{item.codEp}}</td>
                                                                        <td>{{item.nomEp}}</td>
                                                                        <td>{{item.codLoc}}</td>
                                                                        <td>{{item.nomLoc}}</td>
                                                                        <td><button class="btn btn-default btn-estado-in-table {{item.desEstLoc=='Activada' ? 'btn-estado-activado-in-table' : ''}}">{{item.desEstLoc}}</button></td>
                                                                        <td>{{item.codSec}}</td>
                                                                        <td>{{item.nomSec}}</td>
                                                                        <td><button class="btn btn-default btn-estado-in-table {{item.desEstSec=='Activado' ? 'btn-estado-activado-in-table' : ''}}">{{item.desEstSec}}</button></td>
                                                                        <td>{{item.contEne}}</td>
                                                                        <td>{{item.contFeb}}</td>
                                                                        <td>{{item.contMar}}</td>
                                                                        <td>{{item.contAbr}}</td>
                                                                        <td>{{item.contMay}}</td>
                                                                        <td>{{item.contJun}}</td>
                                                                        <td>{{item.contJul}}</td>
                                                                        <td>{{item.contAgo}}</td>
                                                                        <td>{{item.contSet}}</td>
                                                                        <td>{{item.contOct}}</td>
                                                                        <td>{{item.contNov}}</td>
                                                                        <td>{{item.contDic}}</td>
                                                                    </tr>
                                                                
                                                                </tbody>
                                                                
                                                            </table>
                                                        </ng-container>
                                                        
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div role="tabpanel" class="tab-pane fade" id="conexiones">
                                    <div style="padding-left: 2px; padding-right:2px">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div style="padding-left: 2px; padding-right:2px">
                                                    <div class="col-md-12">
                                                        
                                                        <ng-container *ngIf="variableCode=='Presion'">
                                                            <table class="table table-striped table-bordered" id="table-sector-conexiones" style="width:100%">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Cod EP</th>
                                                                        <th>Empresa Prestadora</th>
                                                                        <th>Cod Localidad</th>
                                                                        <th>Localidad</th>
                                                                        <th>Estado Loc</th>
                                                                        <th>Cod Sector</th>
                                                                        <th>Sector</th>
                                                                        <th>Estado Sector</th>
                                                                        <th>Enero</th>
                                                                        <th>Febrero</th>
                                                                        <th>Marzo</th>
                                                                        <th>Abril</th>
                                                                        <th>Mayo</th>
                                                                        <th>Junio</th>
                                                                        <th>Julio</th>
                                                                        <th>Agosto</th>
                                                                        <th>Setiembre</th>
                                                                        <th>Octubre</th>
                                                                        <th>Noviembre</th>
                                                                        <th>Diciembre</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr *ngFor="let item of resultadosReporteSectorPresion; index as i;">
                                                                        <td>{{item.codEp}}</td>
                                                                        <td>{{item.nomEp}}</td>
                                                                        <td>{{item.codLoc}}</td>
                                                                        <td>{{item.nomLoc}}</td>
                                                                        <td><button class="btn btn-default btn-estado-in-table {{item.desEstLoc=='Activada' ? 'btn-estado-activado-in-table' : ''}}">{{item.desEstLoc}}</button></td>
                                                                        <td>{{item.codSec}}</td>
                                                                        <td>{{item.nomSec}}</td>
                                                                        <td><button class="btn btn-default btn-estado-in-table {{item.desEstSec=='Activado' ? 'btn-estado-activado-in-table' : ''}}">{{item.desEstSec}}</button></td>
                                                                        <td>{{item.conexEne}}</td>
                                                                        <td>{{item.conexFeb}}</td>
                                                                        <td>{{item.conexMar}}</td>
                                                                        <td>{{item.conexAbr}}</td>
                                                                        <td>{{item.conexMay}}</td>
                                                                        <td>{{item.conexJun}}</td>
                                                                        <td>{{item.conexJul}}</td>
                                                                        <td>{{item.conexAgo}}</td>
                                                                        <td>{{item.conexSet}}</td>
                                                                        <td>{{item.conexOct}}</td>
                                                                        <td>{{item.conexNov}}</td>
                                                                        <td>{{item.conexDic}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </ng-container>
                                                        <ng-container *ngIf="variableCode=='Continuidad'">
                                                            <table class="table table-striped table-bordered" id="table-sector-conexiones" style="width:100%">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Cod EP</th>
                                                                        <th>Empresa Prestadora</th>
                                                                        <th>Cod Localidad</th>
                                                                        <th>Localidad</th>
                                                                        <th>Estado Loc</th>
                                                                        <th>Cod Sector</th>
                                                                        <th>Sector</th>
                                                                        <th>Estado Sector</th>
                                                                        <th>Enero</th>
                                                                        <th>Febrero</th>
                                                                        <th>Marzo</th>
                                                                        <th>Abril</th>
                                                                        <th>Mayo</th>
                                                                        <th>Junio</th>
                                                                        <th>Julio</th>
                                                                        <th>Agosto</th>
                                                                        <th>Setiembre</th>
                                                                        <th>Octubre</th>
                                                                        <th>Noviembre</th>
                                                                        <th>Diciembre</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr *ngFor="let item of resultadosReporteSectorContinuidad; index as i;">
                                                                        <td>{{item.codEp}}</td>
                                                                        <td>{{item.nomEp}}</td>
                                                                        <td>{{item.codLoc}}</td>
                                                                        <td>{{item.nomLoc}}</td>
                                                                        <td><button class="btn btn-default btn-estado-in-table {{item.desEstLoc=='Activada' ? 'btn-estado-activado-in-table' : ''}}">{{item.desEstLoc}}</button></td>
                                                                        <td>{{item.codSec}}</td>
                                                                        <td>{{item.nomSec}}</td>
                                                                        <td><button class="btn btn-default btn-estado-in-table {{item.desEstSec=='Activado' ? 'btn-estado-activado-in-table' : ''}}">{{item.desEstSec}}</button></td>
                                                                        <td>{{item.conexEne}}</td>
                                                                        <td>{{item.conexFeb}}</td>
                                                                        <td>{{item.conexMar}}</td>
                                                                        <td>{{item.conexAbr}}</td>
                                                                        <td>{{item.conexMay}}</td>
                                                                        <td>{{item.conexJun}}</td>
                                                                        <td>{{item.conexJul}}</td>
                                                                        <td>{{item.conexAgo}}</td>
                                                                        <td>{{item.conexSet}}</td>
                                                                        <td>{{item.conexOct}}</td>
                                                                        <td>{{item.conexNov}}</td>
                                                                        <td>{{item.conexDic}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </ng-container>
                                                       
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<app-loading *ngIf="isLoading"></app-loading>
