<router-outlet></router-outlet>
<div [hidden]="route.children.length!==0">
    <div class="content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 mt-2">
                    <div class="card pdn-15">
                        <div class="card-header border-0">
                            
                            <form class="form-inline" [formGroup]="form">
                                <div class="form-group ml-5" [style]="'align-self: flex-start'">
                                    <app-forms-select2
                                        [forLabel]="'parametro'"
                                        [classForLabel]="'mr-4'"
                                        [label]="'Parámetro'"
                                        [id]="'parametro'"
                                        [placeholder]="'Seleccione'"
                                        [options]="optionsParametro"
                                        [inputSelectedOption]="inputSelectedOptionParametro"
                                        [classForNgSelect] = "'ng-select-frm-in-repo-01'"
                                        (changeOptions)="changeParametroFromSelect($event)"
                                        [messageError]="messageErrorParametro"
                                        [typeError]="'letter-danger'"
                                    ></app-forms-select2>
                                </div>
                                <div class="form-group ml-5 mr-5" [style]="'align-self: flex-start'">
                                    <app-forms-select2
                                        [forLabel]="'anio'"
                                        [classForLabel]="'mr-4'"
                                        [label]="'Año'"
                                        [id]="'anio'"
                                        [options]="optionsAnio"
                                        [inputSelectedOption]="inputSelectedOptionAnio"
                                        [classForNgSelect] = "'ng-select-frm-in-repo-02'"
                                        (changeOptions)="changeAnioFromSelect($event)"
                                        [messageError]="messageErrorAnio"
                                        [typeError]="'letter-danger'"
                                    ></app-forms-select2>
                                </div>
                                <div class="form-group ml-2" [style]="'align-self: flex-start'">
                                    <button class="btn btn-md btn-primary" (click)="obtenerReporte()">Buscar</button>
                                </div>
                                <div class="form-group ml-2" [style]="'align-self: flex-start'">
                                    <button class="btn btn-md btn-default btn-export-excel" (click)="exportReporte()">Descargar Excel <i class="fas fa-file-excel" style="padding-left: 2px; color: #6a9b21;"></i></button>
                                </div>
                            </form>

                        </div>
                    </div>

                    <div class="card pdn-15" *ngIf="showResultadosReporte">
                        <span class="fec-procesa">{{messageFecProcesa}}</span>
                        <ul class="nav nav-tabs tab-detalle" role="tablist">
                            <li role="presentation"><a href="#total" aria-controls="total" role="tab" data-toggle="tab" class="active" id="tab-total">TOTAL</a></li>
                            <li role="presentation"><a href="#satisfactorio" aria-controls="satisfactorio" role="tab" data-toggle="tab" id="tab-satisfactorio">SATISFACTORIAS</a></li>
                        </ul>
                        <div class="tab-content content-detalle content-detalle-custom-02">
                            <div role="tabpanel" class="tab-pane in active" id="total">
                                <div style="padding-left: 2px; padding-right:2px">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div style="padding-left: 2px; padding-right:2px">
                                                <div class="col-md-12">
                                                    
                                                    <table class="table table-striped table-bordered" id="table-total" style="width:100%">
                                                        <thead>
                                                            <tr>
                                                                <th>Código EP</th>
                                                                <th>Empresa Prestadora</th>
                                                                <th>Código Loc</th>
                                                                <th>Localidad</th>
                                                                <th>Estado</th>
                                                                <th>Enero</th>
                                                                <th>Febrero</th>
                                                                <th>Marzo</th>
                                                                <th>Abril</th>
                                                                <th>Mayo</th>
                                                                <th>Junio</th>
                                                                <th>Julio</th>
                                                                <th>Agosto</th>
                                                                <th>Setiembre</th>
                                                                <th>Octubre</th>
                                                                <th>Noviembre</th>
                                                                <th>Diciembre</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr *ngFor="let item of resultadosReporteTotal; index as i;">
                                                                <td>{{item.codEp}}</td>
                                                                <td>{{item.nomEp}}</td>
                                                                <td>{{item.codLoc}}</td>
                                                                <td>{{item.nomLoc}}</td>
                                                                <td><button class="btn btn-default btn-estado-in-table {{item.desEstLoc=='Activada' ? 'btn-estado-activado-in-table' : ''}}">{{item.desEstLoc}}</button></td>
                                                                <td>{{item.canEne}}</td>
                                                                <td>{{item.canFeb}}</td>
                                                                <td>{{item.canMar}}</td>
                                                                <td>{{item.canAbr}}</td>
                                                                <td>{{item.canMay}}</td>
                                                                <td>{{item.canJun}}</td>
                                                                <td>{{item.canJul}}</td>
                                                                <td>{{item.canAgo}}</td>
                                                                <td>{{item.canSet}}</td>
                                                                <td>{{item.canOct}}</td>
                                                                <td>{{item.canNov}}</td>
                                                                <td>{{item.canDic}}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div role="tabpanel" class="tab-pane fade" id="satisfactorio">
                                <div style="padding-left: 2px; padding-right:2px">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div style="padding-left: 2px; padding-right:2px">
                                                <div class="col-md-12">
                                                    
                                                    <table class="table table-striped table-bordered" id="table-satisfactorio" style="width:100%">
                                                        <thead>
                                                            <tr>
                                                                <th>Código EP</th>
                                                                <th>Empresa Prestadora</th>
                                                                <th>Código Loc</th>
                                                                <th>Localidad</th>
                                                                <th>Estado</th>
                                                                <th>Enero</th>
                                                                <th>Febrero</th>
                                                                <th>Marzo</th>
                                                                <th>Abril</th>
                                                                <th>Mayo</th>
                                                                <th>Junio</th>
                                                                <th>Julio</th>
                                                                <th>Agosto</th>
                                                                <th>Setiembre</th>
                                                                <th>Octubre</th>
                                                                <th>Noviembre</th>
                                                                <th>Diciembre</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr *ngFor="let item of resultadosReporteSatisfactorio; index as i;">
                                                                <td>{{item.codEp}}</td>
                                                                <td>{{item.nomEp}}</td>
                                                                <td>{{item.codLoc}}</td>
                                                                <td>{{item.nomLoc}}</td>
                                                                <td><button class="btn btn-default btn-estado-in-table {{item.desEstLoc=='Activada' ? 'btn-estado-activado-in-table' : ''}}">{{item.desEstLoc}}</button></td>
                                                                <td>{{item.canEne}}</td>
                                                                <td>{{item.canFeb}}</td>
                                                                <td>{{item.canMar}}</td>
                                                                <td>{{item.canAbr}}</td>
                                                                <td>{{item.canMay}}</td>
                                                                <td>{{item.canJun}}</td>
                                                                <td>{{item.canJul}}</td>
                                                                <td>{{item.canAgo}}</td>
                                                                <td>{{item.canSet}}</td>
                                                                <td>{{item.canOct}}</td>
                                                                <td>{{item.canNov}}</td>
                                                                <td>{{item.canDic}}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<app-loading *ngIf="isLoading"></app-loading>

